<div layout="column" class="md-inline-form">
    <md-toolbar class="md-primary">
        <button md-button aria-label="Go Back" (click)="goBack()" >
            Go Back
        </button>
        {{formTitle}}
    </md-toolbar>
    <md-content layout-padding>
        <form [ngFormModel]="treatmentForm">
            <div layout-gt-sm="row">
                <div layout-gt-sm="column" class="col-md-3 md-block">
                    <div style="display:inline-block; min-height:290px;">
                        <datepicker [(ngModel)]="date" [minDate]="minDate" [showWeeks]="true"></datepicker>
                    </div>
                </div>
                <div layout-gt-sm="row" class="col-md-3 md-block">   
                    <div layout-gt-sm="column" class="col-md-6 md-block">
                        <timepicker [(ngModel)]="time" (change)="changed()" [hourStep]="hstep" [minuteStep]="mstep" [showMeridian]="ismeridian"></timepicker>
                        <!--                    <pre class="alert alert-info">Time is: {{time}} </pre> -->
                    </div>
                    <div layout-gt-sm="column" class="col-md-3 md-block">
                        <button md-raised-button class="md-primary" (click)="toggleMode()">12H / 24H</button>
                        <button md-raised-button class="md-warn"(click)="clear()">Clear</button>
                    </div>
                </div>
            </div>
            <div layout-gt-sm="row">
                <div layout-gt-sm="column" class="col-md-12 md-block">
                    <textarea md-input placeholder="Treatment theraphy"  [(ngModel)]="treatment.therapy" columns="1" md-maxlength="150" rows="5"  ngControl="therapy" id="therapy"></textarea>
                    <control-messages control="therapy"></control-messages>
                </div>
            </div>
            <div layout-gt-sm="row">
<!--                <div layout-gt-sm="column" class="col-md-4 md-block">
                    <md-input placeholder="Treatment diagnose" [(ngModel)]="treatment.diagnose" [value]="treatment.diagnose"  ngControl="diagnose" > </md-input>
                    <control-messages control="diagnose"></control-messages>
                </div>-->
                <div layout-gt-sm="column" class="col-md-4 md-block">
                    <md-input [(ngModel)]="selected"
                       [typeahead]="diagnoseStore.diagnoses | async | listtodict"
                       (typeaheadOnSelect)="typeaheadOnSelect($event)"
                       [typeaheadOptionField]="'name'" >
                    </md-input>
                   
                 </div>
                <div layout-gt-sm="column" class="col-md-4 md-block">
                    <md-input placeholder="Treatment price" [(ngModel)]="treatment.price" [value]="treatment.price" ngControl="price" id="price"></md-input>
                    <control-messages control="price"></control-messages>
                </div>
                 
            </div>
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-8">
                    <button md-raised-button class="md-primary" type="submit" (click)="onSubmit(treatment)" [disabled]="!treatmentForm.valid"> {{formTitle}}</button>
                </div>
            </div>
        </form>
    </md-content>
</div>
